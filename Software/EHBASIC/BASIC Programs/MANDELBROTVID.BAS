5 REM http://www.rosettacode.org/wiki/Mandelbrot_set#BASIC
7 I1=-1.0:I2=1.0:R1=-2.0:R2=1.0
8 CALL $26000C $FF
9 ITER=1
10 BUF=$1FA700
20 X1=63:Y1=42
25 PRINT "I1 ";I1;", I2 ";I2;", R1 ";R1;", R2 ";R2
30 S1=(R2-R1)/X1:S2=(I2-I1)/Y1
40 FOR Y=0 TO Y1
50 I3=I1+S2*Y
60 FOR X=0 TO X1
70 R3=R1+S1*X:Z1=R3:Z2=I3
80 FOR N=0 TO (15+ITER)
90 A=Z1*Z1:B=Z2*Z2
100 IF A+B>4.0 THEN GOTO 130
110 Z2=2*Z1*Z2+I3:Z1=A-B+R3
120 NEXT N
130 GOSUB 1000
140 NEXT X
150 BUF=BUF+448
160 NEXT Y

170 DI=(I2-I1)
190 I1=I1+(DI/8)
200 DR=(R2-R1)
220 R1=R1+(DR/8)
300 FOR DEL=0 TO 10000
320 NEXT DEL
330 ITER=ITER+1
340 IF ITER>10 THEN GOTO 400 ELSE GOTO 10

400 PRINT "Restarting ..."
410 GOTO 5

500 END

1000 N1=N-ITER
1010 IF(N1=0) THEN RESTORE 9000
1020 IF(N1=1) THEN RESTORE 9010
1030 IF(N1=2) THEN RESTORE 9020
1040 IF(N1=3) THEN RESTORE 9030
1050 IF(N1=4) THEN RESTORE 9040
1060 IF(N1=5) THEN RESTORE 9050
1070 IF(N1=6) THEN RESTORE 9060
1080 IF(N1=7) THEN RESTORE 9070
1090 IF(N1=8) THEN RESTORE 9080
1100 IF(N1=9) THEN RESTORE 9090
1110 IF(N1=10) THEN RESTORE 9100
1120 IF(N1=11) THEN RESTORE 9110
1130 IF(N1=12) THEN RESTORE 9120
1140 IF(N1=13) THEN RESTORE 9130
1150 IF(N1=14) THEN RESTORE 9140
1160 IF(N1=15) THEN RESTORE 9150
1170 IF(N1<0) THEN RESTORE 9000
1180 IF(N1>15) THEN RESTORE 9150
1200 FOR Q=0 TO 7
1210 READ D
1220 POKE (BUF+(64*Q)),D
1230 NEXT Q
1240 IF (BUF AND 1)=1 THEN BUF=BUF-1 ELSE BUF=BUF+3
1250 RETURN

9000 DATA $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
9010 DATA $FF,$FF,$FF,$DD,$FF,$FF,$FF,$DD
9020 DATA $FF,$F7,$FF,$DD,$FF,$77,$FF,$DD
9030 DATA $FF,$77,$FF,$DD,$FF,$77,$FF,$DD
9040 DATA $FF,$55,$FF,$5D,$FF,$55,$FF,$DD
9050 DATA $FF,$55,$FF,$55,$FF,$55,$FF,$55
9060 DATA $FF,$55,$EE,$55,$FF,$55,$EE,$55
9070 DATA $BB,$55,$EE,$55,$BB,$55,$EE,$55
9080 DATA $BB,$55,$AA,$55,$BA,$55,$AA,$55
9090 DATA $AA,$55,$AA,$55,$AA,$55,$AA,$55
9100 DATA $AA,$51,$AA,$44,$AA,$15,$AA,$44
9110 DATA $AA,$00,$AA,$44,$AA,$10,$AA,$44
9120 DATA $AA,$00,$AA,$00,$AA,$00,$AA,$00
9130 DATA $AA,$00,$22,$00,$8A,$00,$22,$00
9140 DATA $88,$00,$02,$00,$88,$00,$20,$00
9150 DATA $00,$00,$00,$00,$00,$00,$00,$00
